if(!hs){var hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"Powered by <i>Highslide JS</i>",creditsTitle:"Go to the Highslide JS homepage",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"highslide/graphics/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:.75,allowMultipleInstances:true,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:false,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:true,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:true,openerTagNames:["a"],dragByHeading:true,minWidth:200,minHeight:200,allowSizeReduction:true,outlineType:"drop-shadow",preloadTheseImages:[],continuePreloading:true,expanders:[],overrides:["allowSizeReduction","useBox","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","creditsPosition","dragByHeading","width","height","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","pageOrigin","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},timers:[],pendingOutlines:{},clones:{},onReady:[],uaVersion:document.documentMode||parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(e){if(e)return document.getElementById(e)},push:function(e,t){e[e.length]=t},createElement:function(e,t,i,s,n){var h=document.createElement(e);if(t)hs.extend(h,t);if(n)hs.setStyles(h,{padding:0,border:"none",margin:0});if(i)hs.setStyles(h,i);if(s)s.appendChild(h);return h},extend:function(e,t){for(var i in t)e[i]=t[i];return e},setStyles:function(e,t){for(var i in t){if(hs.ieLt9&&i=="opacity"){if(t[i]>.99)e.style.removeAttribute("filter");else e.style.filter="alpha(opacity="+t[i]*100+")"}else e.style[i]=t[i]}},animate:function(e,t,i){var s,n,h;if(typeof i!="object"||i===null){var r=arguments;i={duration:r[2],easing:r[3],complete:r[4]}}if(typeof i.duration!="number")i.duration=250;i.easing=Math[i.easing]||Math.easeInQuad;i.curAnim=hs.extend({},t);for(var o in t){var a=new hs.fx(e,i,o);s=parseFloat(hs.css(e,o))||0;n=parseFloat(t[o]);h=o!="opacity"?"px":"";a.custom(s,n,h)}},css:function(e,t){if(e.style[t]){return e.style[t]}else if(document.defaultView){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}else{if(t=="opacity")t="filter";var i=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})];if(t=="filter")i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100});return i===""?1:i}},getPageSize:function(){var e=document,t=window,i=e.compatMode&&e.compatMode!="BackCompat"?e.documentElement:e.body,s=hs.ie&&(hs.uaVersion<9||typeof pageXOffset=="undefined");var n=s?i.clientWidth:e.documentElement.clientWidth||self.innerWidth,h=s?i.clientHeight:self.innerHeight;hs.page={width:n,height:h,scrollLeft:s?i.scrollLeft:pageXOffset,scrollTop:s?i.scrollTop:pageYOffset};return hs.page},getPosition:function(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e.offsetParent){e=e.offsetParent;t.x+=e.offsetLeft;t.y+=e.offsetTop;if(e!=document.body&&e!=document.documentElement){t.x-=e.scrollLeft;t.y-=e.scrollTop}}return t},expand:function(e,t,i,s){if(!e)e=hs.createElement("a",null,{display:"none"},hs.container);if(typeof e.getParams=="function")return t;try{new hs.Expander(e,t,i);return false}catch(n){return true}},focusTopmost:function(){var e=0,t=-1,i=hs.expanders,s,n;for(var h=0;h<i.length;h++){s=i[h];if(s){n=s.wrapper.style.zIndex;if(n&&n>e){e=n;t=h}}}if(t==-1)hs.focusKey=-1;else i[t].focus()},getParam:function(e,t){e.getParams=e.onclick;var i=e.getParams?e.getParams():null;e.getParams=null;return i&&typeof i[t]!="undefined"?i[t]:typeof hs[t]!="undefined"?hs[t]:null},getSrc:function(e){var t=hs.getParam(e,"src");if(t)return t;return e.href},getNode:function(e){var t=hs.$(e),i=hs.clones[e],s={};if(!t&&!i)return null;if(!i){i=t.cloneNode(true);i.id="";hs.clones[e]=i;return t}else{return i.cloneNode(true)}},discardElement:function(e){if(e)hs.garbageBin.appendChild(e);hs.garbageBin.innerHTML=""},transit:function(e,t){var i=t||hs.getExpander();t=i;if(hs.upcoming)return false;else hs.last=i;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{hs.upcoming=e;e.onclick()}catch(s){hs.last=hs.upcoming=null}try{t.close()}catch(s){}return false},previousOrNext:function(e,t){var i=hs.getExpander(e);if(i)return hs.transit(i.getAdjacentAnchor(t),i);else return false},previous:function(e){return hs.previousOrNext(e,-1)},next:function(e){return hs.previousOrNext(e,1)},keyHandler:function(e){if(!e)e=window.event;if(!e.target)e.target=e.srcElement;if(typeof e.target.form!="undefined")return true;var t=hs.getExpander();var i=null;switch(e.keyCode){case 70:if(t)t.doFullExpand();return true;case 32:case 34:case 39:case 40:i=1;break;case 8:case 33:case 37:case 38:i=-1;break;case 27:case 13:i=0}if(i!==null){hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);if(!hs.enableKeyListener)return true;if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(t){if(i==0){t.close()}else{hs.previousOrNext(t.key,i)}return false}}return true},registerOverlay:function(e){hs.push(hs.overlays,hs.extend(e,{hsId:"hsId"+hs.idCounter++}))},getWrapperKey:function(e,t){var i,s=/^highslide-wrapper-([0-9]+)$/;i=e;while(i.parentNode){if(i.id&&s.test(i.id))return i.id.replace(s,"$1");i=i.parentNode}if(!t){i=e;while(i.parentNode){if(i.tagName&&hs.isHsAnchor(i)){for(var n=0;n<hs.expanders.length;n++){var h=hs.expanders[n];if(h&&h.a==i)return n}}i=i.parentNode}}return null},getExpander:function(e,t){if(typeof e=="undefined")return hs.expanders[hs.focusKey]||null;if(typeof e=="number")return hs.expanders[e]||null;if(typeof e=="string")e=hs.$(e);return hs.expanders[hs.getWrapperKey(e,t)]||null},isHsAnchor:function(e){return e.onclick&&e.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var e=0;e<hs.expanders.length;e++)if(hs.expanders[e]&&hs.expanders[e].isExpanded)hs.focusTopmost()},mouseClickHandler:function(e){if(!e)e=window.event;if(e.button>1)return true;if(!e.target)e.target=e.srcElement;var t=e.target;while(t.parentNode&&!/highslide-(image|move|html|resize)/.test(t.className)){t=t.parentNode}var i=hs.getExpander(t);if(i&&(i.isClosing||!i.isExpanded))return true;if(i&&e.type=="mousedown"){if(e.target.form)return true;var s=t.className.match(/highslide-(image|move|resize)/);if(s){hs.dragArgs={exp:i,type:s[1],left:i.x.pos,width:i.x.size,top:i.y.pos,height:i.y.size,clickX:e.clientX,clickY:e.clientY};hs.addEventListener(document,"mousemove",hs.dragHandler);if(e.preventDefault)e.preventDefault();if(/highslide-(image|html)-blur/.test(i.content.className)){i.focus();hs.hasFocused=true}return false}}else if(e.type=="mouseup"){hs.removeEventListener(document,"mousemove",hs.dragHandler);if(hs.dragArgs){if(hs.styleRestoreCursor&&hs.dragArgs.type=="image")hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor;var n=hs.dragArgs.hasDragged;if(!n&&!hs.hasFocused&&!/(move|resize)/.test(hs.dragArgs.type)){i.close()}else if(n||!n&&hs.hasHtmlExpanders){hs.dragArgs.exp.doShowHide("hidden")}hs.hasFocused=false;hs.dragArgs=null}else if(/highslide-image-blur/.test(t.className)){t.style.cursor=hs.styleRestoreCursor}}return false},dragHandler:function(e){if(!hs.dragArgs)return true;if(!e)e=window.event;var t=hs.dragArgs,i=t.exp;t.dX=e.clientX-t.clickX;t.dY=e.clientY-t.clickY;var s=Math.sqrt(Math.pow(t.dX,2)+Math.pow(t.dY,2));if(!t.hasDragged)t.hasDragged=t.type!="image"&&s>0||s>(hs.dragSensitivity||5);if(t.hasDragged&&e.clientX>5&&e.clientY>5){if(t.type=="resize")i.resize(t);else{i.moveTo(t.left+t.dX,t.top+t.dY);if(t.type=="image")i.content.style.cursor="move"}}return false},wrapperMouseHandler:function(e){try{if(!e)e=window.event;var t=/mouseover/i.test(e.type);if(!e.target)e.target=e.srcElement;if(!e.relatedTarget)e.relatedTarget=t?e.fromElement:e.toElement;var i=hs.getExpander(e.target);if(!i.isExpanded)return;if(!i||!e.relatedTarget||hs.getExpander(e.relatedTarget,true)==i||hs.dragArgs)return;for(var s=0;s<i.overlays.length;s++)(function(){var e=hs.$("hsId"+i.overlays[s]);if(e&&e.hideOnMouseOut){if(t)hs.setStyles(e,{visibility:"visible",display:""});hs.animate(e,{opacity:t?e.opacity:0},e.dur)}})()}catch(e){}},addEventListener:function(e,t,i){if(e==document&&t=="ready"){hs.push(hs.onReady,i)}try{e.addEventListener(t,i,false)}catch(s){try{e.detachEvent("on"+t,i);e.attachEvent("on"+t,i)}catch(s){e["on"+t]=i}}},removeEventListener:function(e,t,i){try{e.removeEventListener(t,i,false)}catch(s){try{e.detachEvent("on"+t,i)}catch(s){e["on"+t]=null}}},preloadFullImage:function(e){if(hs.continuePreloading&&hs.preloadTheseImages[e]&&hs.preloadTheseImages[e]!="undefined"){var t=document.createElement("img");t.onload=function(){t=null;hs.preloadFullImage(e+1)};t.src=hs.preloadTheseImages[e]}},preloadImages:function(e){if(e&&typeof e!="object")hs.numberOfImagesToPreload=e;var t=hs.getAnchors();for(var i=0;i<t.images.length&&i<hs.numberOfImagesToPreload;i++){hs.push(hs.preloadTheseImages,hs.getSrc(t.images[i]))}if(hs.outlineType)new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)});else hs.preloadFullImage(0);if(hs.restoreCursor)var s=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor})},init:function(){if(!hs.container){hs.ieLt7=hs.ie&&hs.uaVersion<7;hs.ieLt9=hs.ie&&hs.uaVersion<9;hs.getPageSize();for(var e in hs.langDefaults){if(typeof hs[e]!="undefined")hs.lang[e]=hs[e];else if(typeof hs.lang[e]=="undefined"&&typeof hs.langDefaults[e]!="undefined")hs.lang[e]=hs.langDefaults[e]}hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,true);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);Math.linearTween=function(e,t,i,s){return i*e/s+t};Math.easeInQuad=function(e,t,i,s){return i*(e/=s)*e+t};hs.hideSelects=hs.ieLt7;hs.hideIframes=window.opera&&hs.uaVersion<9||navigator.vendor=="KDE"||hs.ieLt7&&hs.uaVersion<5.5}},ready:function(){if(hs.isReady)return;hs.isReady=true;for(var e=0;e<hs.onReady.length;e++)hs.onReady[e]()},updateAnchors:function(){var e,t,i=[],s=[],n={},h;for(var r=0;r<hs.openerTagNames.length;r++){t=document.getElementsByTagName(hs.openerTagNames[r]);for(var o=0;o<t.length;o++){e=t[o];h=hs.isHsAnchor(e);if(h){hs.push(i,e);if(h[0]=="hs.expand")hs.push(s,e);var a=hs.getParam(e,"slideshowGroup")||"none";if(!n[a])n[a]=[];hs.push(n[a],e)}}}hs.anchors={all:i,groups:n,images:s};return hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(e){var t=hs.getExpander(e);if(t)t.close();return false}};hs.fx=function(e,t,i){this.options=t;this.elem=e;this.prop=i;if(!t.orig)t.orig={}};hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);if(this.options.step)this.options.step.call(this.elem,this.now,this)},custom:function(e,t,i){this.startTime=(new Date).getTime();this.start=e;this.end=t;this.unit=i;this.now=this.start;this.pos=this.state=0;var s=this;function n(e){return s.step(e)}n.elem=this.elem;if(n()&&hs.timers.push(n)==1){hs.timerId=setInterval(function(){var e=hs.timers;for(var t=0;t<e.length;t++)if(!e[t]())e.splice(t--,1);if(!e.length){clearInterval(hs.timerId)}},13)}},step:function(e){var t=(new Date).getTime();if(e||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var i=true;for(var s in this.options.curAnim)if(this.options.curAnim[s]!==true)i=false;if(i){if(this.options.complete)this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=this.options.easing(n,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};hs.extend(hs.fx,{step:{opacity:function(e){hs.setStyles(e.elem,{opacity:e.now})},_default:function(e){try{if(e.elem.style&&e.elem.style[e.prop]!=null)e.elem.style[e.prop]=e.now+e.unit;else e.elem[e.prop]=e.now}catch(t){}}}});hs.Outline=function(e,t){this.onLoad=t;this.outlineType=e;var i=hs.uaVersion,s;this.hasAlphaImageLoader=hs.ie&&hs.uaVersion<7;if(!e){if(t)t();return}hs.init();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,true);var n=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var h=0;h<=8;h++){if(h%3==0)s=hs.createElement("tr",null,{height:"auto"},n,true);this.td[h]=hs.createElement("td",null,null,s,true);var r=h!=4?{lineHeight:0,fontSize:0}:{position:"relative"};hs.setStyles(this.td[h],r)}this.td[4].className=e+" highslide-outline";this.preloadGraphic()};hs.Outline.prototype={preloadGraphic:function(){var e=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png";var t=hs.safari&&hs.uaVersion<525?hs.container:null;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},t,true);var i=this;this.graphic.onload=function(){i.onGraphicLoad()};this.graphic.src=e},onGraphicLoad:function(){var e=this.offset=this.graphic.width/4,t=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],i={height:2*e+"px",width:2*e+"px"};for(var s=0;s<=8;s++){if(t[s]){if(this.hasAlphaImageLoader){var n=s==1||s==7?"100%":this.graphic.width+"px";var h=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[s],true);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:n,height:this.graphic.height+"px",left:t[s][0]*e+"px",top:t[s][1]*e+"px"},h,true)}else{hs.setStyles(this.td[s],{background:"url("+this.graphic.src+") "+t[s][0]*e+"px "+t[s][1]*e+"px"})}if(window.opera&&(s==3||s==5))hs.createElement("div",null,i,this.td[s],true);hs.setStyles(this.td[s],i)}}this.graphic=null;if(hs.pendingOutlines[this.outlineType])hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;if(this.onLoad)this.onLoad()},setPosition:function(e,t,i,s,n){var h=this.exp,r=h.wrapper.style,t=t||0,e=e||{x:h.x.pos+t,y:h.y.pos+t,w:h.x.get("wsize")-2*t,h:h.y.get("wsize")-2*t};if(i)this.table.style.visibility=e.h>=4*this.offset?"visible":"hidden";hs.setStyles(this.table,{left:e.x-this.offset+"px",top:e.y-this.offset+"px",width:e.w+2*this.offset+"px"});e.w-=2*this.offset;e.h-=2*this.offset;hs.setStyles(this.td[4],{width:e.w>=0?e.w+"px":0,height:e.h>=0?e.h+"px":0});if(this.hasAlphaImageLoader)this.td[3].style.height=this.td[5].style.height=this.td[4].style.height},destroy:function(e){if(e)this.table.style.visibility="hidden";else hs.discardElement(this.table)}};hs.Dimension=function(e,t){this.exp=e;this.dim=t;this.ucwh=t=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=t=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=t=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0};hs.Dimension.prototype={get:function(e){switch(e){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;if(this.tpos==0||this.tpos==-1){this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt]}},calcExpanded:function(){var e=this.exp;this.justify="auto";this.pos=this.tpos-this.cb+this.tb;if(this.maxHeight&&this.dim=="x")e.maxWidth=Math.min(e.maxWidth||this.full,e.maxHeight*this.full/e.y.full);this.size=Math.min(this.full,e["max"+this.ucwh]||this.full);this.minSize=e.allowSizeReduction?Math.min(e["min"+this.ucwh],this.full):this.full;if(e.isImage&&e.useBox){this.size=e[this.wh];this.imgSize=this.full}if(this.dim=="x"&&hs.padToMinWidth)this.minSize=e.minWidth;this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(e){var t=this.exp;if(t.isImage&&(t.useBox||hs.padToMinWidth)){this.imgSize=e;this.size=Math.max(this.size,this.imgSize);t.content.style[this.lt]=this.get("imgPad")+"px"}else this.size=e;t.content.style[this.wh]=e+"px";t.wrapper.style[this.wh]=this.get("wsize")+"px";if(t.outline)t.outline.setPosition();if(this.dim=="x"&&t.overlayBox)t.sizeOverlayBox(true)},setPos:function(e){this.pos=e;this.exp.wrapper.style[this.lt]=e+"px";if(this.exp.outline)this.exp.outline.setPosition()}};hs.Expander=function(e,t,i,s){if(document.readyState&&hs.ie&&!hs.isReady){hs.addEventListener(document,"ready",function(){new hs.Expander(e,t,i,s)});return}this.a=e;this.custom=i;this.contentType=s||"image";this.isImage=!this.isHtml;hs.continuePreloading=false;this.overlays=[];hs.init();var n=this.key=hs.expanders.length;for(var h=0;h<hs.overrides.length;h++){var r=hs.overrides[h];this[r]=t&&typeof t[r]!="undefined"?t[r]:hs[r]}if(!this.src)this.src=e.href;var o=t&&t.thumbnailId?hs.$(t.thumbnailId):e;o=this.thumb=o.getElementsByTagName("img")[0]||o;this.thumbsUserSetId=o.id||e.id;for(var h=0;h<hs.expanders.length;h++){if(hs.expanders[h]&&hs.expanders[h].a==e){hs.expanders[h].focus();return false}}if(!hs.allowSimultaneousLoading)for(var h=0;h<hs.expanders.length;h++){if(hs.expanders[h]&&hs.expanders[h].thumb!=o&&!hs.expanders[h].onLoadStarted){hs.expanders[h].cancelLoading()}}hs.expanders[n]=this;if(!hs.allowMultipleInstances&&!hs.upcoming){if(hs.expanders[n-1])hs.expanders[n-1].close();if(typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey])hs.expanders[hs.focusKey].close()}this.el=o;this.tpos=this.pageOrigin||hs.getPosition(o);hs.getPageSize();var a=this.x=new hs.Dimension(this,"x");a.calcThumb();var l=this.y=new hs.Dimension(this,"y");l.calcThumb();this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,true);this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler;if(this.contentType=="image"&&this.outlineWhileAnimating==2)this.outlineWhileAnimating=0;if(!this.outlineType){this[this.contentType+"Create"]()}else if(hs.pendingOutlines[this.outlineType]){this.connectOutline();this[this.contentType+"Create"]()}else{this.showLoading();var d=this;new hs.Outline(this.outlineType,function(){d.connectOutline();d[d.contentType+"Create"]()})}return true};hs.Expander.prototype={error:function(e){if(hs.debug)alert("Line "+e.lineNumber+": "+e.message);else window.location.href=this.src},connectOutline:function(){var e=this.outline=hs.pendingOutlines[this.outlineType];e.exp=this;e.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){if(this.onLoadStarted||this.loading)return;this.loading=hs.loading;var e=this;this.loading.onclick=function(){e.cancelLoading()};var e=this,t=this.x.get("loadingPos")+"px",i=this.y.get("loadingPos")+"px";setTimeout(function(){if(e.loading)hs.setStyles(e.loading,{left:t,top:i,zIndex:hs.zIndexCounter++})},100)},imageCreate:function(){var e=this;var t=document.createElement("img");this.content=t;t.onload=function(){if(hs.expanders[e.key])e.contentLoaded()};if(hs.blockRightClick)t.oncontextmenu=function(){return false};t.className="highslide-image";hs.setStyles(t,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});t.title=hs.lang.restoreTitle;if(hs.safari&&hs.uaVersion<525)hs.container.appendChild(t);if(hs.ie&&hs.flushImgSize)t.src=null;t.src=this.src;this.showLoading()},contentLoaded:function(){try{if(!this.content)return;this.content.onload=null;if(this.onLoadStarted)return;else this.onLoadStarted=true;var e=this.x,t=this.y;if(this.loading){hs.setStyles(this.loading,{top:"-9999px"});this.loading=null}e.full=this.content.width;t.full=this.content.height;hs.setStyles(this.content,{width:e.t+"px",height:t.t+"px"});this.wrapper.appendChild(this.content);hs.container.appendChild(this.wrapper);e.calcBorders();t.calcBorders();hs.setStyles(this.wrapper,{left:e.tpos+e.tb-e.cb+"px",top:t.tpos+e.tb-t.cb+"px"});this.getOverlays();var i=e.full/t.full;e.calcExpanded();this.justify(e);t.calcExpanded();this.justify(t);if(this.overlayBox)this.sizeOverlayBox(0,1);if(this.allowSizeReduction){this.correctRatio(i);if(this.isImage&&this.x.full>(this.x.imgSize||this.x.size)){this.createFullExpand();if(this.overlays.length==1)this.sizeOverlayBox()}}this.show()}catch(s){this.error(s)}},justify:function(e,t){var i,s=e.target,n=e==this.x?"x":"y";var h=false;var r=e.exp.allowSizeReduction;e.pos=Math.round(e.pos-(e.get("wsize")-e.t)/2);if(e.pos<e.scroll+e.marginMin){e.pos=e.scroll+e.marginMin;h=true}if(!t&&e.size<e.minSize){e.size=e.minSize;r=false}if(e.pos+e.get("wsize")>e.scroll+e.clientSize-e.marginMax){if(!t&&h&&r){e.size=Math.min(e.size,e.get(n=="y"?"fitsize":"maxsize"))}else if(e.get("wsize")<e.get("fitsize")){e.pos=e.scroll+e.clientSize-e.marginMax-e.get("wsize")}else{e.pos=e.scroll+e.marginMin;if(!t&&r)e.size=e.get(n=="y"?"fitsize":"maxsize")}}if(!t&&e.size<e.minSize){e.size=e.minSize;r=false}if(e.pos<e.marginMin){var o=e.pos;e.pos=e.marginMin;if(r&&!t)e.size=e.size-(e.pos-o)}},correctRatio:function(e){var t=this.x,i=this.y,s=false,n=Math.min(t.full,t.size),h=Math.min(i.full,i.size),r=this.useBox||hs.padToMinWidth;if(n/h>e){n=h*e;if(n<t.minSize){n=t.minSize;h=n/e}s=true}else if(n/h<e){h=n/e;s=true}if(hs.padToMinWidth&&t.full<t.minSize){t.imgSize=t.full;i.size=i.imgSize=i.full}else if(this.useBox){t.imgSize=n;i.imgSize=h}else{t.size=n;i.size=h}s=this.fitOverlayBox(this.useBox?null:e,s);if(r&&i.size<i.imgSize){i.imgSize=i.size;t.imgSize=i.size*e}if(s||r){t.pos=t.tpos-t.cb+t.tb;t.minSize=t.size;this.justify(t,true);i.pos=i.tpos-i.cb+i.tb;i.minSize=i.size;this.justify(i,true);if(this.overlayBox)this.sizeOverlayBox()}},fitOverlayBox:function(e,t){var i=this.x,s=this.y;if(this.overlayBox){while(s.size>this.minHeight&&i.size>this.minWidth&&s.get("wsize")>s.get("fitsize")){s.size-=10;if(e)i.size=s.size*e;this.sizeOverlayBox(0,1);t=true}}return t},show:function(){var e=this.x,t=this.y;this.doShowHide("hidden");this.changeSize(1,{wrapper:{width:e.get("wsize"),height:t.get("wsize"),left:e.pos,top:t.pos},content:{left:e.p1+e.get("imgPad"),top:t.p1+t.get("imgPad"),width:e.imgSize||e.size,height:t.imgSize||t.size}},hs.expandDuration)},changeSize:function(e,t,i){if(this.outline&&!this.outlineWhileAnimating){if(e)this.outline.setPosition();else this.outline.destroy()}if(!e)this.destroyOverlays();var s=this,n=s.x,h=s.y,r=this.easing;if(!e)r=this.easingClose||r;var o=e?function(){if(s.outline)s.outline.table.style.visibility="visible";setTimeout(function(){s.afterExpand()},50)}:function(){s.afterClose()};if(e)hs.setStyles(this.wrapper,{width:n.t+"px",height:h.t+"px"});if(this.fadeInOut){hs.setStyles(this.wrapper,{opacity:e?0:1});hs.extend(t.wrapper,{opacity:e})}hs.animate(this.wrapper,t.wrapper,{duration:i,easing:r,step:function(t,i){if(s.outline&&s.outlineWhileAnimating&&i.prop=="top"){var r=e?i.pos:1-i.pos;var o={w:n.t+(n.get("wsize")-n.t)*r,h:h.t+(h.get("wsize")-h.t)*r,x:n.tpos+(n.pos-n.tpos)*r,y:h.tpos+(h.pos-h.tpos)*r};s.outline.setPosition(o,0,1)}}});hs.animate(this.content,t.content,i,r,o);if(e){this.wrapper.style.visibility="visible";this.content.style.visibility="visible";this.a.className+=" highslide-active-anchor"}},afterExpand:function(){this.isExpanded=true;this.focus();if(hs.upcoming&&hs.upcoming==this.a)hs.upcoming=null;this.prepareNextOutline();var e=hs.page,t=hs.mouse.x+e.scrollLeft,i=hs.mouse.y+e.scrollTop;this.mouseIsOver=this.x.pos<t&&t<this.x.pos+this.x.get("wsize")&&this.y.pos<i&&i<this.y.pos+this.y.get("wsize");if(this.overlayBox)this.showOverlays()},prepareNextOutline:function(){var e=this.key;var t=this.outlineType;new hs.Outline(t,function(){try{hs.expanders[e].preloadNext()}catch(t){}})},preloadNext:function(){var e=this.getAdjacentAnchor(1);if(e&&e.onclick.toString().match(/hs\.expand/))var t=hs.createElement("img",{src:hs.getSrc(e)})},getAdjacentAnchor:function(e){var t=this.getAnchorIndex(),i=hs.anchors.groups[this.slideshowGroup||"none"];return i&&i[t+e]||null},getAnchorIndex:function(){var e=hs.getAnchors().groups[this.slideshowGroup||"none"];if(e)for(var t=0;t<e.length;t++){if(e[t]==this.a)return t}return null},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;if(this.loading)hs.loading.style.left="-9999px"},writeCredits:function(){this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle});this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left"})},getInline:function(types,addOverlay){for(var i=0;i<types.length;i++){var type=types[i],s=null;if(!this[type+"Id"]&&this.thumbsUserSetId)this[type+"Id"]=type+"-for-"+this.thumbsUserSetId;if(this[type+"Id"])this[type]=hs.getNode(this[type+"Id"]);if(!this[type]&&!this[type+"Text"]&&this[type+"Eval"])try{s=eval(this[type+"Eval"])}catch(e){}if(!this[type]&&this[type+"Text"]){s=this[type+"Text"]}if(!this[type]&&!s){this[type]=hs.getNode(this.a["_"+type+"Id"]);if(!this[type]){var next=this.a.nextSibling;while(next&&!hs.isHsAnchor(next)){if(new RegExp("highslide-"+type).test(next.className||null)){if(!next.id)this.a["_"+type+"Id"]=next.id="hsId"+hs.idCounter++;this[type]=hs.getNode(next.id);break}next=next.nextSibling}}}if(!this[type]&&s)this[type]=hs.createElement("div",{className:"highslide-"+type,innerHTML:s});if(addOverlay&&this[type]){var o={position:type=="heading"?"above":"below"};for(var x in this[type+"Overlay"])o[x]=this[type+"Overlay"][x];o.overlayId=this[type];this.createOverlay(o)}}},doShowHide:function(e){if(hs.hideSelects)this.showHideElements("SELECT",e);if(hs.hideIframes)this.showHideElements("IFRAME",e);if(hs.geckoMac)this.showHideElements("*",e)},showHideElements:function(e,t){var i=document.getElementsByTagName(e);var s=e=="*"?"overflow":"visibility";for(var n=0;n<i.length;n++){if(s=="visibility"||(document.defaultView.getComputedStyle(i[n],"").getPropertyValue("overflow")=="auto"||i[n].getAttribute("hidden-by")!=null)){var h=i[n].getAttribute("hidden-by");if(t=="visible"&&h){h=h.replace("["+this.key+"]","");i[n].setAttribute("hidden-by",h);if(!h)i[n].style[s]=i[n].origProp}else if(t=="hidden"){var r=hs.getPosition(i[n]);r.w=i[n].offsetWidth;r.h=i[n].offsetHeight;var o=r.x+r.w<this.x.get("opos")||r.x>this.x.get("opos")+this.x.get("osize");var a=r.y+r.h<this.y.get("opos")||r.y>this.y.get("opos")+this.y.get("osize");var l=hs.getWrapperKey(i[n]);if(!o&&!a&&l!=this.key){if(!h){i[n].setAttribute("hidden-by","["+this.key+"]");i[n].origProp=i[n].style[s];i[n].style[s]="hidden"}else if(h.indexOf("["+this.key+"]")==-1){i[n].setAttribute("hidden-by",h+"["+this.key+"]")}}else if((h=="["+this.key+"]"||hs.focusKey==l)&&l!=this.key){i[n].setAttribute("hidden-by","");i[n].style[s]=i[n].origProp||""}else if(h&&h.indexOf("["+this.key+"]")>-1){i[n].setAttribute("hidden-by",h.replace("["+this.key+"]",""))}}}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter+=2;for(var e=0;e<hs.expanders.length;e++){if(hs.expanders[e]&&e==hs.focusKey){var t=hs.expanders[e];t.content.className+=" highslide-"+t.contentType+"-blur";t.content.style.cursor=hs.ieLt7?"hand":"pointer";t.content.title=hs.lang.focusTitle}}if(this.outline)this.outline.table.style.zIndex=this.wrapper.style.zIndex-1;this.content.className="highslide-"+this.contentType;this.content.title=hs.lang.restoreTitle;if(hs.restoreCursor){hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer";if(hs.ieLt7&&hs.uaVersion<6)hs.styleRestoreCursor="hand";this.content.style.cursor=hs.styleRestoreCursor}hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler)},moveTo:function(e,t){this.x.setPos(e);this.y.setPos(t)},resize:function(e){var t,i,s=e.width/e.height;t=Math.max(e.width+e.dX,Math.min(this.minWidth,this.x.full));if(this.isImage&&Math.abs(t-this.x.full)<12)t=this.x.full;i=t/s;if(i<Math.min(this.minHeight,this.y.full)){i=Math.min(this.minHeight,this.y.full);if(this.isImage)t=i*s}this.resizeTo(t,i)},resizeTo:function(e,t){this.y.setSize(t);this.x.setSize(e);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(this.isClosing||!this.isExpanded)return;this.isClosing=true;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.content.style.cursor="default";this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(e){this.afterClose()}},createOverlay:function(e){var t=e.overlayId;if(typeof t=="string")t=hs.getNode(t);if(e.html)t=hs.createElement("div",{innerHTML:e.html});if(!t||typeof t=="string")return;t.style.display="block";this.genOverlayBox();var i=e.width&&/^[0-9]+(px|%)$/.test(e.width)?e.width:"auto";if(/^(left|right)panel$/.test(e.position)&&!/^[0-9]+px$/.test(e.width))i="200px";var s=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:e.hsId},{position:"absolute",visibility:"hidden",width:i,direction:hs.lang.cssDirection||"",opacity:0},this.overlayBox,true);s.appendChild(t);hs.extend(s,{opacity:1,offsetX:0,offsetY:0,dur:e.fade===0||e.fade===false||e.fade==2&&hs.ie?0:250});hs.extend(s,e);if(this.gotOverlays){this.positionOverlay(s);if(!s.hideOnMouseOut||this.mouseIsOver)hs.animate(s,{opacity:s.opacity},s.dur)}hs.push(this.overlays,hs.idCounter-1)},positionOverlay:function(e){var t=e.position||"middle center",i=e.offsetX,s=e.offsetY;if(e.parentNode!=this.overlayBox)this.overlayBox.appendChild(e);if(/left$/.test(t))e.style.left=i+"px";if(/center$/.test(t))hs.setStyles(e,{left:"50%",marginLeft:i-Math.round(e.offsetWidth/2)+"px"});if(/right$/.test(t))e.style.right=-i+"px";if(/^leftpanel$/.test(t)){hs.setStyles(e,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p1=e.offsetWidth}else if(/^rightpanel$/.test(t)){hs.setStyles(e,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p2=e.offsetWidth}if(/^top/.test(t))e.style.top=s+"px";if(/^middle/.test(t))hs.setStyles(e,{top:"50%",marginTop:s-Math.round(e.offsetHeight/2)+"px"});if(/^bottom/.test(t))e.style.bottom=-s+"px";if(/^above$/.test(t)){hs.setStyles(e,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",
marginBottom:this.y.cb+"px",width:"auto"});this.y.p1=e.offsetHeight}else if(/^below$/.test(t)){hs.setStyles(e,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"});this.y.p2=e.offsetHeight;e.style.position="absolute"}},getOverlays:function(){this.getInline(["heading","caption"],true);if(this.heading&&this.dragByHeading)this.heading.className+=" highslide-move";if(hs.showCredits)this.writeCredits();for(var e=0;e<hs.overlays.length;e++){var t=hs.overlays[e],i=t.thumbnailId,s=t.slideshowGroup;if(!i&&!s||i&&i==this.thumbsUserSetId||s&&s===this.slideshowGroup){this.createOverlay(t)}}var n=[];for(var e=0;e<this.overlays.length;e++){var t=hs.$("hsId"+this.overlays[e]);if(/panel$/.test(t.position))this.positionOverlay(t);else hs.push(n,t)}for(var e=0;e<n.length;e++)this.positionOverlay(n[e]);this.gotOverlays=true},genOverlayBox:function(){if(!this.overlayBox)this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,true)},sizeOverlayBox:function(e,t){var i=this.overlayBox,s=this.x,n=this.y;hs.setStyles(i,{width:s.size+"px",height:n.size+"px"});if(e||t){for(var h=0;h<this.overlays.length;h++){var r=hs.$("hsId"+this.overlays[h]);var o=hs.ieLt7||document.compatMode=="BackCompat";if(r&&/^(above|below)$/.test(r.position)){if(o){r.style.width=i.offsetWidth+2*s.cb+s.p1+s.p2+"px"}n[r.position=="above"?"p1":"p2"]=r.offsetHeight}if(r&&o&&/^(left|right)panel$/.test(r.position)){r.style.height=i.offsetHeight+2*n.cb+"px"}}}if(e){hs.setStyles(this.content,{top:n.p1+"px"});hs.setStyles(i,{top:n.p1+n.cb+"px"})}},showOverlays:function(){var e=this.overlayBox;e.className="";hs.setStyles(e,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"});if(hs.safari)e.style.visibility="visible";this.wrapper.appendChild(e);for(var t=0;t<this.overlays.length;t++){var i=hs.$("hsId"+this.overlays[t]);i.style.zIndex=i.zIndex||4;if(!i.hideOnMouseOut||this.mouseIsOver){i.style.visibility="visible";hs.setStyles(i,{visibility:"visible",display:""});hs.animate(i,{opacity:i.opacity},i.dur)}}},destroyOverlays:function(){if(!this.overlays.length)return;hs.discardElement(this.overlayBox)},createFullExpand:function(){this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"});this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:true,opacity:hs.fullExpandOpacity})},doFullExpand:function(){try{if(this.fullExpandLabel)hs.discardElement(this.fullExpandLabel);this.focus();var e=this.x.size,t=this.y.size;this.resizeTo(this.x.full,this.y.full);var i=this.x.pos-(this.x.size-e)/2;if(i<hs.marginLeft)i=hs.marginLeft;var s=this.y.pos-(this.y.size-t)/2;if(s<hs.marginTop)s=hs.marginTop;this.moveTo(i,s);this.doShowHide("hidden")}catch(n){this.error(n)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");if(this.outline&&this.outlineWhileAnimating)this.outline.destroy();hs.discardElement(this.wrapper);hs.expanders[this.key]=null;hs.reOrder()}};hs.langDefaults=hs.lang;var HsExpander=hs.Expander;if(hs.ie&&window==window.top){(function(){try{document.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,50);return}hs.ready()})()}hs.addEventListener(document,"DOMContentLoaded",hs.ready);hs.addEventListener(window,"load",hs.ready);hs.addEventListener(document,"ready",function(){if(hs.expandCursor){var e=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]),t=document.compatMode=="BackCompat";function i(i,s){if(hs.ie&&(hs.uaVersion<9||t)){var n=document.styleSheets[document.styleSheets.length-1];if(typeof n.addRule=="object")n.addRule(i,s)}else{e.appendChild(document.createTextNode(i+" {"+s+"}"))}}function s(e){return"expression( ( ( ignoreMe = document.documentElement."+e+" ? document.documentElement."+e+" : document.body."+e+" ) ) + 'px' );"}if(hs.expandCursor)i(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;")}});hs.addEventListener(window,"resize",function(){hs.getPageSize()});hs.addEventListener(document,"mousemove",function(e){hs.mouse={x:e.clientX,y:e.clientY}});hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(document,"ready",hs.getAnchors);hs.addEventListener(window,"load",hs.preloadImages)}